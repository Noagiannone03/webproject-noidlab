<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Media Gallery</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <!-- GSAP et ScrollTrigger pour animations (optionnel) -->
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js" defer></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js" defer></script>
  <style>
    /* ---------- RESET & BASE ---------- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Montserrat', sans-serif; background: #f0f0f0; color: #333; }
    a { text-decoration: none; color: inherit; }
    
    /* ---------- NAVBAR ---------- */
    .navbar {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 75px;
      background: #000;
      display: flex;
      align-items: center;
      padding: 0 20px;
      z-index: 1000;
    }
    .nav-center { margin: 0 auto; }
    .nav-center img { max-height: 60px; }
    .nav-actions {
      position: absolute;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .nav-actions .btn {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      color: #fff;
      font-weight: bold;
    }
    .icon-circle {
      width: 35px; height: 35px;
      border: 2px solid #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .icon-circle svg { width: 20px; height: 20px; fill: #fff; }
    /* Dropdown */
    .dropdown {
      position: absolute;
      top: 104px;
      right: 20px;
      width: 300px;
      max-height: 70vh;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      overflow-y: auto;
      opacity: 0;
      pointer-events: none;
      transform: translateX(20px);
      transition: opacity 0.4s ease, transform 0.4s ease;
      z-index: 1100;
    }
    .dropdown.active {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(0);
    }
    .dropdown ul { list-style: none; padding: 15px; }
    .dropdown ul li { margin-bottom: 10px; }
    .dropdown ul li a {
      text-transform: uppercase;
      font-weight: bold;
      padding: 8px;
      border-radius: 8px;
      transition: background 0.2s ease;
    }
    .dropdown ul li a:hover { background: #f0f0f0; }
    
    /* ---------- MAIN ---------- */
    main { padding-top: 90px; }
    section { padding: 60px 20px; margin-bottom: 60px; }
    h2.section-title { font-size: 2.5rem; text-align: center; margin-bottom: 30px; }
    
    /* ---------- SECTION "À LA UNE" ---------- */
    #featured { background: #fff; }
    .featured-carousel {
      display: flex;
      gap: 15px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      padding: 0 20px;
    }
    .featured-carousel::-webkit-scrollbar { display: none; }
    .featured-card {
      flex: 0 0 auto;
      width: 320px; height: 180px;
      border-radius: 15px;
      overflow: hidden;
      scroll-snap-align: center;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .featured-card:hover { transform: scale(1.03); }
    .featured-card img { width: 100%; height: 100%; object-fit: cover; }
    
    /* ---------- GRID SECTIONS (Photos, Vidéos, Audio) ---------- */
    .media-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .media-card {
      border-radius: 15px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .media-card:hover { transform: scale(1.02); }
    .media-card img { width: 100%; height: 100%; object-fit: cover; }
    .see-more { text-align: center; margin-top: 20px; }
    .see-more button {
      padding: 10px 20px;
      border: none;
      background: #000;
      color: #fff;
      border-radius: 20px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }
    .see-more button:hover { background: #333; }
    
    /* ---------- STICKY MUSIC PLAYER ---------- */
    .music-player {
      position: fixed;
      bottom: 0; left: 0;
      width: 100%;
      background: #181818;
      color: #fff;
      display: flex;
      align-items: center;
      padding: 10px 20px;
      z-index: 1000;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
    }
    .player-container {
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      gap: 20px;
    }
    .album-art {
      width: 60px; height: 60px;
      flex-shrink: 0;
    }
    .album-art img {
      width: 100%; height: 100%;
      object-fit: cover;
      border-radius: 5px;
    }
    .track-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .track-info h4 { font-size: 1rem; margin-bottom: 5px; }
    .track-info p { font-size: 0.9rem; opacity: 0.8; }
    .player-controls {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .player-controls button {
      background: none;
      border: none;
      cursor: pointer;
    }
    /* Volume Control */
    .volume-control {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .volume-control input[type="range"] {
      width: 100px;
    }
    /* Barre de progression */
    .progress-container {
      position: relative;
      width: 100%;
      height: 5px;
      background: #404040;
      border-radius: 3px;
      overflow: hidden;
      margin-top: 5px;
    }
    .progress-bar {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: #1db954;
      width: 0%;
    }
    
    /* Bouton "Découvrez nos sons" */
    .discover-sounds {
      position: fixed;
      bottom: 80px;
      left: 20px;
      z-index: 1100;
    }
    .discover-sounds button {
      padding: 10px 20px;
      border: none;
      background: #1db954;
      color: #fff;
      font-weight: bold;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    
    /* ---------- MODAL MEDIA ---------- */
    .media-modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1200;
    }
    .media-modal.active { display: flex; }
    .modal-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      border-radius: 15px;
      overflow: hidden;
      background: #000;
    }
    .modal-content img,
    .modal-content video {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }
    .modal-close {
      position: absolute;
      top: 10px; right: 10px;
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 1300;
    }
    .modal-prev, .modal-next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: transparent;
      border: none;
      color: #fff;
      font-size: 2rem;
      cursor: pointer;
      z-index: 1300;
    }
    .modal-prev { left: 10px; }
    .modal-next { right: 10px; }
    
    /* ---------- Responsive ---------- */
    @media (max-width: 768px) {
      .featured-card { width: 250px; height: 140px; }
      .player-container { flex-direction: column; gap: 10px; }
      .player-controls { margin-top: 10px; }
      .volume-control input[type="range"] { width: 80px; }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-center">
      <img src="../assets/images/Danslesmurs_A27.jpg" alt="Logo">
    </div>
    <div class="nav-actions">
      <div class="btn contact-btn" id="contact-btn">
        <div class="icon-circle">
          <svg viewBox="0 0 24 24"><path d="M20 2H4C2.9 2 2 2.9 2 4v14l4-4h14c1.1 0 2-.9 2-2V4C22 2.9 21.1 2 20 2z"/></svg>
        </div>
        <span>Contact</span>
      </div>
      <div class="btn menu-btn" id="menu-btn">
        <span>Menu</span>
        <div class="icon-circle">
          <svg viewBox="0 0 24 24">
            <rect x="3" y="6" width="18" height="2"/>
            <rect x="3" y="11" width="18" height="2"/>
            <rect x="3" y="16" width="18" height="2"/>
          </svg>
        </div>
      </div>
    </div>
    <!-- Dropdown -->
    <div class="dropdown" id="dropdown">
      <ul>
        <li><a href="#featured">À la une</a></li>
        <li><a href="#photos">Photos</a></li>
        <li><a href="#videos">Vidéos</a></li>
        <li><a href="#audio">Audio</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
  </nav>
  
  <!-- Main Content -->
  <main>
    <!-- Featured Section -->
    <section id="featured">
      <h2 class="section-title">À la une</h2>
      <div class="featured-carousel">
        <div class="featured-card">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Featured 1">
        </div>
        <div class="featured-card">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Featured 2">
        </div>
        <div class="featured-card">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Featured 3">
        </div>
      </div>
    </section>
    
    <!-- Photos Section -->
    <section id="photos">
      <h2 class="section-title">Photos</h2>
      <div class="filter-buttons">
        <button data-filter="all" class="active">Toutes</button>
        <button data-filter="interieur">Dans les murs</button>
        <button data-filter="exterieur">Hors les murs</button>
      </div>
      <div class="media-grid photos-grid">
        <div class="media-card" data-category="interieur">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Photo">
        </div>
        <div class="media-card" data-category="exterieur">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Photo">
        </div>
        <div class="media-card" data-category="interieur">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Photo">
        </div>
        <div class="media-card" data-category="exterieur">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Photo">
        </div>
        <div class="media-card" data-category="interieur">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Photo">
        </div>
        <div class="media-card" data-category="exterieur">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Photo">
        </div>
      </div>
      <div class="see-more">
        <button>Voir plus <span class="arrow">➔</span></button>
      </div>
    </section>
    
    <!-- Videos Section -->
    <section id="videos">
      <h2 class="section-title">Vidéos</h2>
      <div class="media-grid videos-grid">
        <div class="media-card" data-type="video">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Vidéo">
        </div>
        <div class="media-card" data-type="video">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Vidéo">
        </div>
        <div class="media-card" data-type="video">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Vidéo">
        </div>
      </div>
      <div class="see-more">
        <button>Voir plus <span class="arrow">➔</span></button>
      </div>
    </section>
    
    <!-- Audio Section -->
    <section id="audio">
      <h2 class="section-title">Audio</h2>
      <div class="media-grid audio-grid">
        <div class="media-card" data-audio="../assets/audio/sample.mp3">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Audio">
        </div>
        <div class="media-card" data-audio="../assets/audio/sample.mp3">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Audio">
        </div>
        <div class="media-card" data-audio="../assets/audio/sample.mp3">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Audio">
        </div>
      </div>
      <div class="see-more">
        <button>Voir plus <span class="arrow">➔</span></button>
      </div>
    </section>
  </main>
  
  <!-- Bouton Découvrir nos sons (affiché tant qu'aucun son n'est joué) -->
  <div class="discover-sounds" id="discover-sounds">
    <button>Découvrez nos sons</button>
  </div>
  
  <!-- Sticky Music Player -->
  <footer>
    <div class="music-player">
      <div class="player-container">
        <div class="album-art">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Album Art">
        </div>
        <div class="track-info">
          <h4 id="track-title">Titre de la piste</h4>
          <p id="track-artist">Artiste</p>
          <div class="progress-container" id="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
          </div>
        </div>
        <div class="player-controls">
          <button id="prev-track">
            <svg viewBox="0 0 24 24" width="24" height="24">
              <polygon points="15,4 7,12 15,20" fill="#fff"/>
            </svg>
          </button>
          <button id="play-pause">
            <svg id="play-icon" viewBox="0 0 24 24" width="24" height="24">
              <polygon points="6,4 20,12 6,20" fill="#fff"/>
            </svg>
            <svg id="pause-icon" viewBox="0 0 24 24" width="24" height="24" style="display: none;">
              <rect x="6" y="4" width="4" height="16" fill="#fff"/>
              <rect x="14" y="4" width="4" height="16" fill="#fff"/>
            </svg>
          </button>
          <button id="next-track">
            <svg viewBox="0 0 24 24" width="24" height="24">
              <polygon points="9,4 17,12 9,20" fill="#fff"/>
            </svg>
          </button>
        </div>
        <div class="volume-control">
          <div class="volume-icon">
            <svg id="volume-icon" viewBox="0 0 24 24" width="24" height="24">
              <path d="M3 10v4h4l5 5V5l-5 5H3z" fill="#fff"/>
            </svg>
          </div>
          <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
        </div>
      </div>
    </div>
  </footer>
  
  <!-- Modal for Media -->
  <div class="media-modal" id="media-modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">✖</button>
      <button class="modal-prev" id="modal-prev">⟨</button>
      <div class="modal-media" id="modal-media">
        <!-- Content loaded dynamically -->
      </div>
      <button class="modal-next" id="modal-next">⟩</button>
    </div>
  </div>
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* --- Navbar Dropdown --- */
      const menuBtn = document.getElementById("menu-btn");
      const dropdown = document.getElementById("dropdown");
      menuBtn.addEventListener("click", () => {
        dropdown.classList.toggle("active");
      });
      
      /* --- Filter Photos --- */
      const filterButtons = document.querySelectorAll(".filter-buttons button");
      const photoCards = document.querySelectorAll(".photos-grid .media-card");
      filterButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          filterButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          const filter = btn.getAttribute("data-filter");
          photoCards.forEach(card => {
            if (filter === "all" || card.getAttribute("data-category") === filter) {
              card.style.display = "block";
            } else {
              card.style.display = "none";
            }
          });
        });
      });
      
      /* --- Modal for Media --- */
      const mediaModal = document.getElementById("media-modal");
      const modalMedia = document.getElementById("modal-media");
      const modalClose = document.getElementById("modal-close");
      const modalPrev = document.getElementById("modal-prev");
      const modalNext = document.getElementById("modal-next");
      let currentMediaIndex = 0;
      let currentMediaList = [];
      
      const mediaCards = document.querySelectorAll(".media-grid .media-card");
      mediaCards.forEach((card, index) => {
        card.addEventListener("click", () => { openModal(index); });
      });
      
      function openModal(index) {
        currentMediaIndex = index;
        currentMediaList = Array.from(document.querySelectorAll(".media-grid .media-card"));
        loadModalMedia(currentMediaList[currentMediaIndex]);
        mediaModal.classList.add("active");
      }
      
      function loadModalMedia(card) {
        const img = card.querySelector("img");
        modalMedia.innerHTML = "";
        if (img) {
          const clone = img.cloneNode();
          clone.style.maxWidth = "100%";
          clone.style.maxHeight = "100%";
          modalMedia.appendChild(clone);
        }
      }
      
      modalClose.addEventListener("click", () => { mediaModal.classList.remove("active"); });
      modalPrev.addEventListener("click", () => {
        currentMediaIndex = (currentMediaIndex - 1 + currentMediaList.length) % currentMediaList.length;
        loadModalMedia(currentMediaList[currentMediaIndex]);
      });
      modalNext.addEventListener("click", () => {
        currentMediaIndex = (currentMediaIndex + 1) % currentMediaList.length;
        loadModalMedia(currentMediaList[currentMediaIndex]);
      });
      
      /* --- Audio Player --- */
      const playPauseBtn = document.getElementById("play-pause");
      const playIcon = document.getElementById("play-icon");
      const pauseIcon = document.getElementById("pause-icon");
      const prevTrackBtn = document.getElementById("prev-track");
      const nextTrackBtn = document.getElementById("next-track");
      const trackTitle = document.getElementById("track-title");
      const trackArtist = document.getElementById("track-artist");
      const albumArt = document.querySelector(".album-art img");
      const volumeSlider = document.getElementById("volume-slider");
      const discoverSounds = document.getElementById("discover-sounds");
      
      const audioPlaylist = [
        { src: "../assets/audio/sample.mp3", title: "Titre 1", artist: "Artiste 1", cover: "../assets/images/Danslesmurs_A27.jpg" },
        { src: "../assets/audio/sample.mp3", title: "Titre 2", artist: "Artiste 2", cover: "../assets/images/Danslesmurs_A27.jpg" },
        { src: "../assets/audio/sample.mp3", title: "Titre 3", artist: "Artiste 3", cover: "../assets/images/Danslesmurs_A27.jpg" }
      ];
      let currentTrackIndex = 0;
      const audioPlayer = new Audio();
      
      function loadTrack(index) {
        const track = audioPlaylist[index];
        audioPlayer.src = track.src;
        trackTitle.textContent = track.title;
        trackArtist.textContent = track.artist;
        albumArt.src = track.cover;
      }
      
      loadTrack(currentTrackIndex);
      
      playPauseBtn.addEventListener("click", () => {
        if (audioPlayer.paused) {
          audioPlayer.play();
          playIcon.style.display = "none";
          pauseIcon.style.display = "block";
          if(discoverSounds) discoverSounds.style.display = "none";
        } else {
          audioPlayer.pause();
          playIcon.style.display = "block";
          pauseIcon.style.display = "none";
        }
      });
      
      prevTrackBtn.addEventListener("click", () => {
        currentTrackIndex = (currentTrackIndex - 1 + audioPlaylist.length) % audioPlaylist.length;
        loadTrack(currentTrackIndex);
        audioPlayer.play();
        playIcon.style.display = "none";
        pauseIcon.style.display = "block";
        if(discoverSounds) discoverSounds.style.display = "none";
      });
      
      nextTrackBtn.addEventListener("click", () => {
        currentTrackIndex = (currentTrackIndex + 1) % audioPlaylist.length;
        loadTrack(currentTrackIndex);
        audioPlayer.play();
        playIcon.style.display = "none";
        pauseIcon.style.display = "block";
        if(discoverSounds) discoverSounds.style.display = "none";
      });
      
      audioPlayer.addEventListener("timeupdate", () => {
        const progressPercent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
        document.getElementById("progress-bar").style.width = progressPercent + "%";
      });
      
      volumeSlider.addEventListener("input", () => {
        audioPlayer.volume = volumeSlider.value;
      });
      
      // Lors du clic sur une card audio, lancer directement la piste sans afficher d'image
      const audioCards = document.querySelectorAll("#audio .media-card");
      audioCards.forEach(card => {
        card.addEventListener("click", () => {
          const audioSrc = card.getAttribute("data-audio");
          currentTrackIndex = 0;
          audioPlaylist[0].src = audioSrc;
          loadTrack(currentTrackIndex);
          audioPlayer.play();
          playIcon.style.display = "none";
          pauseIcon.style.display = "block";
          if(discoverSounds) discoverSounds.style.display = "none";
        });
      });
      
      /* --- Discover Sounds Button --- */
      const discoverBtn = document.querySelector("#discover-sounds button");
      if(discoverBtn){
        discoverBtn.addEventListener("click", () => {
          document.getElementById("discover-sounds").style.display = "none";
        });
      }
      
      /* --- GSAP Featured Animation --- */
      gsap.from("#featured .featured-carousel", {
        y: 20,
        opacity: 0,
        duration: 1,
        ease: "power2.out",
        scrollTrigger: {
          trigger: "#featured",
          start: "top 80%"
        }
      });
    });
  </script>
</body>
</html>
