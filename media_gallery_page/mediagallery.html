<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Media Gallery</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <!-- AOS Library pour les animations on-scroll -->
  <link href="https://unpkg.com/aos@next/dist/aos.css" rel="stylesheet" />
  <script src="https://unpkg.com/aos@next/dist/aos.js" defer></script>
  <!-- GSAP (optionnel) -->
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js" defer></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js" defer></script>
  <link href="style_media_gallery.css" rel="stylesheet"/>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">

    <div class="nav-center">
      <img src="../assets/logo/LOGONOIDsimpleBlanc.png"/>
    </div>
    <div class="nav-actions">
      <!-- Bouton Contact -->
      <div class="contact-btn" id="contact-btn">
        <div class="icon-circle">
          <!-- SVG bulle de message -->
          <svg viewBox="0 0 24 24">
            <path d="M20 2H4C2.9 2 2 2.9 2 4v14l4-4h14c1.1 0 2-.9 2-2V4C22 2.9 21.1 2 20 2z"/>
          </svg>
        </div>
        <span class="btn-text">Nous contacter</span>
      </div>
      <span class="separator">|</span>
      <!-- Bouton Menu -->
      <div class="menu-btn" id="menu-btn">
        <span class="btn-text">Menu</span>
        <div class="icon-circle">
          <!-- SVG hamburger -->
          <svg viewBox="0 0 24 24">
            <rect x="3" y="6" width="18" height="2"/>
            <rect x="3" y="11" width="18" height="2"/>
            <rect x="3" y="16" width="18" height="2"/>
          </svg>
        </div>
      </div>
    </div>
    <!-- Dropdown contenant les 3 cards -->
    <div class="dropdown" id="dropdown">
      <!-- Card Menu -->
      <!-- Dans votre dropdown, par exemple : -->
<div class="menu-card">
  <ul>
    <li><a href="#stack-section">À propos</a></li>
    <li><a href="#pricing-section-custom">Prestations</a></li>
    <li><a href="#slider-section">Nos lieux</a></li>
    <li><a href="#event-section">Nos Références</a></li>
    <li><a href="#gallery-media">Médias</a></li>
    <li><a href="#contact-section">Contact</a></li>
  </ul>
</div>

      <!-- Card Newsletter -->
      <div class="newsletter-card">
        <h3>Découvrez notre newsletter</h3>
        <form onsubmit="return false;">
          <input type="email" placeholder="Votre email" required />
          <button type="submit">Envoyer</button>
        </form>
      </div>
      <!-- Card Social Follow -->
      <div class="follow-card">
        <h3>Nous suivre</h3>
        <div class="social-buttons">
          <!-- Facebook -->
          <button>
            <img class="logo logo-black" src="../assets/logo/facebook noir et blanc.png" alt="Facebook">
            <img class="logo logo-color" src="../assets/logo/facebook couleur.png" alt="Facebook">
          </button>
          <!-- Instagram -->
          <button>
            <img class="logo logo-black" src="../assets/logo/insta noir et blanc.png" alt="Instagram">
            <img class="logo logo-color" src="../assets/logo/instagram couleur.png" alt="Instagram">
          </button>
          <!-- TikTok -->
          <button>
            <img class="logo logo-black" src="../assets/logo/tiktok noir et blanc.png" alt="TikTok">
            <img class="logo logo-color" src="../assets/logo/tiktok couleur.png" alt="TikTok">
          </button>
          <button>
            <img class="logo logo-black" src="../assets/logo/whatsapp noir et blanc.png" alt="Whatsapp">
            <img class="logo logo-color" src="../assets/logo/whatsapp couleur.png" alt="Whatsapp">
          </button>
        </div>
      </div>
    </div>
  </nav>
  
  <!-- Main Content -->
  <main>
 <!-- Section "À la une" - Fullscreen Hero -->
<section id="featured" data-aos="fade-up">
  <div class="featured-background">
   <!-- Votre élément image qui affichera l'image aléatoire -->
<img id="randomImage" src="" alt="Image aléatoire">

  </div>
  <div class="featured-overlay">
    <h1 class="featured-title">La Galerie Media</h1>
    <div class="scroll-indicator">
      <svg class="arrow" viewBox="0 0 20 20">
        <path d="M12 16l-6-6h12z"/>
      </svg>
      <svg class="arrow" viewBox="0 0 20 20">
        <path d="M12 20l-6-6h12z"/>
      </svg>
    </div>
  </div>
</section>

    
  <!-- Photos Section -->
<section id="photos" data-aos="fade-up">
  <div class="photos-header" data-aos="fade-up">
    <h2 class="section-title" style="margin-left: -15px;">Photos</h2>
    <div class="filter-buttons">
      <button data-filter="all" class="active">Toutes</button>
      <button data-filter="interieur">Dans les murs</button>
      <button data-filter="exterieur">Hors les murs</button>
    </div>
  </div>
  <!-- Ajoutez l'attribut data-initial-count pour indiquer le nombre d'items initiaux -->
  <div class="media-grid photos-grid" data-aos="fade-up" data-initial-count="8">
    <!-- Items initiaux (8 items) -->
    <div class="media-card" data-category="interieur">
      <img src="../assets/images/Danslesmurs_A22.jpg" alt="Photo">
    </div>
    <div class="media-card" data-category="exterieur">
      <img src="../assets/images/Danslesmurs_A21.jpg" alt="Photo">
    </div>
    <div class="media-card" data-category="interieur">
      <img src="../assets/images/Danslesmurs_A29.jpg" alt="Photo">
    </div>
    <div class="media-card" data-category="exterieur">
      <img src="../assets/images/Danslesmurs_A31.jpg" alt="Photo">
    </div>
    <div class="media-card" data-category="interieur">
      <img src="../assets/images/Danslesmurs_A37.jpg" alt="Photo">
    </div>
    <div class="media-card" data-category="exterieur">
      <img src="../assets/images/Danslesmurs_A33.jpg" alt="Photo">
    </div>
    <div class="media-card" data-category="interieur">
      <img src="../assets/images/Danslesmurs_A39.jpg" alt="Photo">
    </div>
    <div class="media-card" data-category="exterieur">
      <img src="../assets/images/Danslesmurs_A21.jpg" alt="Photo">
    </div>
  </div>
  <div class="see-more" data-aos="fade-up">
    <button>Voir plus <span class="arrow">➔</span></button>
  </div>
  <hr class="section-separator">
</section>

    
    <!-- Videos Section -->
    <section id="videos" data-aos="fade-up">
      <h2 class="section-title">Vidéos</h2>
      <div class="media-grid videos-grid" data-aos="fade-up">
        <div class="media-card" data-type="video">
          <img src="https://www.noidlab.com/wp-content/uploads/2020/06/Annotation-2020-06-10-144104-300x164.png" alt="Vidéo">
        </div>
        <div class="media-card" data-type="video">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Vidéo">
        </div>
        <div class="media-card" data-type="video">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Vidéo">
        </div>
        <div class="media-card" data-type="video">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Vidéo">
        </div>
      </div>
      <div class="see-more" data-aos="fade-up">
        <button>Voir plus <span class="arrow">➔</span></button>
      </div>
      <hr class="section-separator">
    </section>
    
    <!-- Audio Section -->
    <section id="audio" data-aos="fade-up">
      <h2 class="section-title">Audio</h2>
      <div class="media-grid audio-grid" data-aos="fade-up">
        <!-- Chaque card audio possède un attribut data-audio -->
        <div class="media-card" data-audio="https://player-widget.mixcloud.com/widget/iframe/?hide_cover=1&mini=1&feed=%2FUnderlab_Toulon%2Fudlb-031-red-room-session-3am-podcast%2F">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Audio">
          <!-- Overlay pour indiquer lecture -->
          <div class="audio-overlay" style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.3); transition: opacity 0.3s;">
            <svg viewBox="0 0 24 24" width="36" height="36">
              <polygon points="6,4 20,12 6,20" fill="#fff"/>
            </svg>
          </div>
        </div>
        <div class="media-card" data-audio="../assets/audio/sample.mp3">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Audio">
          <div class="audio-overlay" style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.3); transition: opacity 0.3s;">
            <svg viewBox="0 0 24 24" width="36" height="36">
              <polygon points="6,4 20,12 6,20" fill="#fff"/>
            </svg>
          </div>
        </div>
        <div class="media-card" data-audio="https://player-widget.mixcloud.com/widget/iframe/?hide_cover=1&mini=1&feed=%2FUnderlab_Toulon%2Fudlb-podcast-024-life-recorder-extendplay-marseille-underlab_toulon-200418%2F"">
          <img src="../assets/images/Danslesmurs_A27.jpg" alt="Audio">
          <div class="audio-overlay" style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.3); transition: opacity 0.3s;">
            <svg viewBox="0 0 24 24" width="36" height="36">
              <polygon points="6,4 20,12 6,20" fill="#fff"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="see-more" data-aos="fade-up">
        <button>Voir plus <span class="arrow">➔</span></button>
      </div>
      <hr class="section-separator">
    </section>
  </main>
  
<footer>
  <div class="footer-container">
    <!-- Colonne gauche -->
    <div class="footer-column left">
      <h2 class="footer-title">À propos</h2>
      <p class="footer-text">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod urna eu tincidunt consectetur, nisi nisl lacinia mi, eu pulvinar nisi neque sit amet turpis.
      </p>
    </div>
    
    <!-- Colonne centrale -->
    <div class="footer-column center">
      <h2 class="footer-title">Nos lieux d'exploitations</h2>
      <div class="footer-info">
        <h3 class="footer-subtitle">FEATlab</h3>
        <p class="footer-details">
          13 Rue d'Antrechaus<br>
          83000 Toulon<br>
          04 94 62 24 77<br>
          info@noidlab.com | www.noidlab.com
        </p>
      </div>
      <hr class="footer-divider">
      <div class="footer-info footer-repeat">
        <h3 class="footer-subtitle">Fort Napoleon</h3>
        <p class="footer-details">
          56 montée charles Barnier<br>
          83500 La Seyne sur Mer<br>
          04 94 62 24 77<br>
          info@fornap.com | www.fornap.org
        </p>
      </div>
      <div class="footer-image">
        <img  src="../assets/pieddepouleunique.png" alt="Image Footer">
      </div>
    </div>
    
    <!-- Colonne droite -->
    <div class="footer-column right">
      <h2 class="footer-title">Keep in touch</h2>
      <div class="newsletter-cardbottom">
        <h3>Découvrez notre newsletter</h3>
        <form onsubmit="return false;">
          <input type="email" placeholder="Votre email" required />
          <button type="submit">Envoyer</button>
        </form>
      </div>
      <!-- Card Social Follow -->
      <div class="follow-cardbottom">
        <h3>Nous suivre</h3>
        <div class="social-buttons">
          <button>
            <!-- Facebook SVG -->
            <svg viewBox="0 0 24 24">
              <path d="M22.675 0h-21.35C.6 0 0 .6 0 1.337v21.326C0 23.4.6 24 1.325 24H12.82v-9.294H9.692V11.07h3.128V8.413c0-3.1 1.893-4.788 4.658-4.788 1.325 0 2.464.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.716-1.795 1.763v2.31h3.587l-.467 3.636h-3.12V24h6.116C23.4 24 24 23.4 24 22.663V1.337C24 .6 23.4 0 22.675 0z"/>
            </svg>
          </button>
          <button>
            <!-- Instagram SVG -->
            <svg viewBox="0 0 24 24">
              <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.337 3.608 1.312.975.975 1.25 2.242 1.312 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.337 2.633-1.312 3.608-.975.975-2.242 1.25-3.608 1.312-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.337-3.608-1.312-.975-.975-1.25-2.242-1.312-3.608C2.175 15.747 2.163 15.367 2.163 12s.012-3.584.07-4.85c.062-1.366.337-2.633 1.312-3.608.975-.975 2.242-1.25 3.608-1.312 1.266-.058 1.646-.07 4.85-.07M12 0C8.741 0 8.332.012 7.052.07 5.771.127 4.602.443 3.635 1.41 2.668 2.377 2.352 3.546 2.295 4.827.012 8.332 0 8.741 0 12s.012 3.668.07 4.948c.057 1.281.373 2.45 1.34 3.417.967.967 2.136 1.283 3.417 1.34 1.28.058 1.689.07 4.948.07s3.668-.012 4.948-.07c1.281-.057 2.45-.373 3.417-1.34.967-.967 1.283-2.136 1.34-3.417.058-1.28.07-1.689.07-4.948s-.012-3.668-.07-4.948c-.057-1.281-.373-2.45-1.34-3.417-.967-.967-2.136-1.283-3.417-1.34C15.668.012 15.259 0 12 0z"/>
              <path d="M12 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998z"/>
              <circle cx="18.406" cy="5.594" r="1.44"/>
            </svg>
          </button>
          <button>
            <!-- TikTok SVG -->
            <svg viewBox="0 0 24 24">
              <path d="M9 0h3v12c-1.667-.667-3.333-1-5-1 0 0 0 0 0 0C3 11 0 13 0 16c0 4 4 8 8 8s8-4 8-8V0H9z"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
 <div class="footer-bottom">
    &copy; 2025 noidlab. Tous droits réservés.
  </div>
</footer>
  <!-- Sticky Music Player -->
  <footer>
    <div class="iframe-container">
      <!-- L'iframe initiale peut être vide ou avoir un src par défaut -->
      <iframe class="iframplayer" width="100%" height="60" src="https://player-widget.mixcloud.com/widget/iframe/?hide_cover=1&mini=1&feed=%2FUnderlab_Toulon%2Fudlb-030-session-red-room-deniamoro-afrobeat-world%2F" frameborder="0"></iframe>
    </div>
  </footer>
  
  
  <!-- Modal for Media -->
  <div class="media-modal" id="media-modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close">✖</button>
      <button class="modal-prev" id="modal-prev">⟨</button>
      <div class="modal-media" id="modal-media"></div>
      <button class="modal-next" id="modal-next">⟩</button>
    </div>
  </div>
  
  <script>document.addEventListener("DOMContentLoaded", () => {
    AOS.init({ duration: 800 });
  
    /* ----------------- Navbar Dropdown ----------------- */
    const menuBtn = document.getElementById("menu-btn");
    const dropdown = document.getElementById("dropdown");
    if (menuBtn && dropdown) {
      menuBtn.addEventListener("click", () => { 
        dropdown.classList.toggle("active"); 
      });
    }
  
    /* ----------------- Filter Photos ----------------- */
    const filterButtons = document.querySelectorAll(".filter-buttons button");
    const photoCards = document.querySelectorAll(".photos-grid .media-card");
    filterButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        filterButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const filter = btn.getAttribute("data-filter");
        photoCards.forEach(card => {
          if (filter === "all" || card.getAttribute("data-category") === filter) {
            card.style.display = "block";
          } else {
            card.style.display = "none";
          }
        });
      });
    });
  
    /* ----------------- Modal for Media ----------------- */
    const mediaModal = document.getElementById("media-modal");
    const modalMedia = document.getElementById("modal-media");
    const modalClose = document.getElementById("modal-close");
    const modalPrev = document.getElementById("modal-prev");
    const modalNext = document.getElementById("modal-next");
    let currentMediaIndex = 0;
    let currentMediaList = [];
  
    const mediaCards = document.querySelectorAll(".media-grid .media-card");
    mediaCards.forEach((card, index) => {
      // Pour les sections autres que Audio, ouvrir le modal
      if (card.closest("#audio")) return;
      card.addEventListener("click", () => { 
        currentMediaIndex = index;
        currentMediaList = Array.from(document.querySelectorAll(".media-grid .media-card"));
        loadModalMedia(currentMediaList[currentMediaIndex]);
        mediaModal.classList.add("active");
      });
    });
  
    function loadModalMedia(card) {
      const img = card.querySelector("img");
      modalMedia.innerHTML = "";
      if (img) {
        const clone = img.cloneNode();
        clone.style.maxWidth = "100%";
        clone.style.maxHeight = "100%";
        modalMedia.appendChild(clone);
      }
    }
  
    if (modalClose) {
      modalClose.addEventListener("click", () => { 
        mediaModal.classList.remove("active"); 
      });
    }
    if (modalPrev) {
      modalPrev.addEventListener("click", () => {
        currentMediaIndex = (currentMediaIndex - 1 + currentMediaList.length) % currentMediaList.length;
        loadModalMedia(currentMediaList[currentMediaIndex]);
      });
    }
    if (modalNext) {
      modalNext.addEventListener("click", () => {
        currentMediaIndex = (currentMediaIndex + 1) % currentMediaList.length;
        loadModalMedia(currentMediaList[currentMediaIndex]);
      });
    }
  
    /* ----------------- Image aléatoire pour la section Featured Background ----------------- */
    const bgImages = ["44-event-noid.jpg", "18-event-noid.jpg", "28-event-noid.jpg", "39-event-noid.jpg"];
    const randIndex = Math.floor(Math.random() * bgImages.length);
    const chosenImage = bgImages[randIndex];
    const randomImageElem = document.getElementById("randomImage");
    if (randomImageElem) {
      randomImageElem.src = "../assets/images/" + chosenImage;
    } else {
      console.error("Élément randomImage introuvable.");
    }
  
    /* ----------------- Player (mise à jour de l'iframe) ----------------- */
    const audioSection = document.getElementById("audio");
    const iframeContainer = document.querySelector(".iframe-container");
    if (audioSection && iframeContainer) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.intersectionRatio >= 0.75) {
            iframeContainer.classList.add("visible");
          } else {
            iframeContainer.classList.remove("visible");
          }
        });
      }, { threshold: [0, 0.75, 1] });
      observer.observe(audioSection);
    } else {
      console.error("Section audio ou conteneur iframe introuvable.");
    }
    
    /* Mise à jour du src de l'iframe du player sans recréer l'iframe */
    const audioCards = document.querySelectorAll("#audio .media-card");
    audioCards.forEach(card => {
      card.addEventListener("click", () => {
        const newSrc = card.getAttribute("data-audio");
        console.log("Audio card clicked, newSrc:", newSrc);
        if (!iframeContainer) {
          console.error("Aucun conteneur iframe trouvé!");
          return;
        }
        const iframe = iframeContainer.querySelector("iframe");
        if (iframe) {
          iframe.src = newSrc;
          console.log("iframe src mis à jour:", newSrc);
        } else {
          console.error("Aucun iframe existant dans le conteneur.");
        }
      });
    });
  
    /* ----------------- Audio Player Controls ----------------- */
    const playPauseBtn = document.getElementById("play-pause");
    const playIcon = document.getElementById("play-icon");
    const pauseIcon = document.getElementById("pause-icon");
    const prevTrackBtn = document.getElementById("prev-track");
    const nextTrackBtn = document.getElementById("next-track");
    const trackTitle = document.getElementById("track-title");
    const trackArtist = document.getElementById("track-artist");
    const albumArt = document.querySelector(".album-art img");
    const volumeSlider = document.getElementById("volume-slider");
    const discoverSounds = document.getElementById("discover-sounds");
  
    const audioPlaylist = [
      { src: "../assets/audio/sample.mp3", title: "Titre 1", artist: "Artiste 1", cover: "../assets/images/Danslesmurs_A27.jpg" },
      { src: "../assets/audio/sample.mp3", title: "Titre 2", artist: "Artiste 2", cover: "../assets/images/Danslesmurs_A27.jpg" },
      { src: "../assets/audio/sample.mp3", title: "Titre 3", artist: "Artiste 3", cover: "../assets/images/Danslesmurs_A27.jpg" }
    ];
    let currentTrackIndex = 0;
    const audioPlayer = new Audio();
    
    function loadTrack(index) {
      const track = audioPlaylist[index];
      audioPlayer.src = track.src;
      trackTitle.textContent = track.title;
      trackArtist.textContent = track.artist;
      albumArt.src = track.cover;
    }
    
    loadTrack(currentTrackIndex);
    
    function startAudio() {
      audioPlayer.play();
      playIcon.style.display = "none";
      pauseIcon.style.display = "block";
      // Animation pour faire disparaître le bouton Discover en douceur
      discoverSounds.classList.add("hide");
      setTimeout(() => { discoverSounds.style.display = "none"; }, 400);
      // Masquer l'overlay sur toutes les cards audio
      document.querySelectorAll("#audio .audio-overlay").forEach(el => el.style.opacity = "0");
    }
    
    if (playPauseBtn) {
      playPauseBtn.addEventListener("click", () => {
        if (audioPlayer.paused) {
          startAudio();
        } else {
          audioPlayer.pause();
          playIcon.style.display = "block";
          pauseIcon.style.display = "none";
        }
      });
    }
    
    if (prevTrackBtn) {
      prevTrackBtn.addEventListener("click", () => {
        currentTrackIndex = (currentTrackIndex - 1 + audioPlaylist.length) % audioPlaylist.length;
        loadTrack(currentTrackIndex);
        startAudio();
      });
    }
    
    if (nextTrackBtn) {
      nextTrackBtn.addEventListener("click", () => {
        currentTrackIndex = (currentTrackIndex + 1) % audioPlaylist.length;
        loadTrack(currentTrackIndex);
        startAudio();
      });
    }
    
    audioPlayer.addEventListener("timeupdate", () => {
      const progressPercent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
      document.getElementById("progress-bar").style.width = progressPercent + "%";
    });
    
    volumeSlider.addEventListener("input", () => {
      audioPlayer.volume = volumeSlider.value;
    });
    
    // Pour lancer directement la piste au clic sur une card audio
    const directAudioCards = document.querySelectorAll("#audio .media-card");
    directAudioCards.forEach(card => {
      card.addEventListener("click", () => {
        const audioSrc = card.getAttribute("data-audio");
        currentTrackIndex = 0;
        audioPlaylist[0].src = audioSrc;
        loadTrack(currentTrackIndex);
        startAudio();
      });
    });
    
    /* ----------------- Toggle "Voir plus" pour chaque section ----------------- */
    function setupToggle(sectionId, additionalItems, gridSelector, buttonSelector) {
      const section = document.getElementById(sectionId);
      const grid = section.querySelector(gridSelector);
      const button = section.querySelector(buttonSelector);
      let expanded = false;
      // On stocke le nombre d'items initialement affichés
      const initialCount = parseInt(grid.getAttribute("data-initial-count")) || grid.children.length;
      // Optionnel : mélanger aléatoirement la liste supplémentaire
      additionalItems.sort(() => Math.random() - 0.5);
      button.addEventListener("click", () => {
        if (!expanded) {
          additionalItems.forEach(item => {
            const card = document.createElement("div");
            card.classList.add("media-card");
            // Pour la section audio, ajouter data-audio
            if (sectionId === "audio") {
              card.setAttribute("data-audio", item.src);
            }
            if (item.category) {
              card.setAttribute("data-category", item.category);
            }
            const img = document.createElement("img");
            img.src = item.src;
            img.alt = sectionId === "audio" ? "Audio" : sectionId === "videos" ? "Vidéo" : "Photo";
            card.appendChild(img);
            // Appliquer une animation d'apparition
            card.style.opacity = 0;
            grid.appendChild(card);
            setTimeout(() => {
              card.style.transition = "opacity 0.5s";
              card.style.opacity = 1;
            }, 50);
          });
          button.textContent = "Voir moins";
          expanded = true;
        } else {
          const cards = grid.querySelectorAll(".media-card");
          for (let i = cards.length - 1; i >= initialCount; i--) {
            const card = cards[i];
            card.style.transition = "opacity 0.5s";
            card.style.opacity = 0;
            setTimeout(() => { card.remove(); }, 500);
          }
          button.textContent = "Voir plus";
          expanded = false;
        }
      });
    }
    
    // Définissez des tableaux supplémentaires pour chaque section
    const additionalPhotos = [
      { src: "../assets/images/Danslesmurs_A22.jpg", category: "interieur" },
      { src: "../assets/images/Danslesmurs_A21.jpg", category: "exterieur" },
      { src: "../assets/images/Danslesmurs_A29.jpg", category: "interieur" },
      { src: "../assets/images/Danslesmurs_A31.jpg", category: "exterieur" }
    ];
    const additionalVideos = [
      { src: "../assets/images/Danslesmurs_A27.jpg" },
      { src: "../assets/images/Danslesmurs_A28.jpg" },
      { src: "../assets/images/Danslesmurs_A33.jpg" }
    ];
    const additionalAudios = [
      { src: "../assets/audio/sample.mp3" },
      { src: "../assets/audio/sample.mp3" },
      { src: "../assets/audio/sample.mp3" }
    ];
    
    // Assurez-vous que dans le HTML, les grilles ont un attribut data-initial-count,
    // par exemple, pour la section Photos :
    // <div class="media-grid photos-grid" data-initial-count="8" ...>
    setupToggle("photos", additionalPhotos, ".photos-grid", "#photos .see-more button");
    setupToggle("videos", additionalVideos, ".videos-grid", "#videos .see-more button");
    setupToggle("audio", additionalAudios, ".audio-grid", "#audio .see-more button");
    
    /* ----------------- GSAP Featured Animation (optionnel) ----------------- */
    gsap.from("#featured .featured-carousel", {
      y: 20,
      opacity: 0,
      duration: 1,
      ease: "power2.out",
      scrollTrigger: { trigger: "#featured", start: "top 80%" }
    });
  });
  
  </script>
</body>
</html>
